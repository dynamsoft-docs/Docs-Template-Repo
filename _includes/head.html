<head>
    <title>{{ page.title }}</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="max-age=7200" />
    <meta name="description" content="{{ page.description }}" />
    <meta name="keywords" content="{{ page.keywords }}" />

    <!-- <link rel="preload" as="font" href="{{site.assets}}font-face/Oswald-Regular.woff" type="font/woff" crossorigin="anonymous">
    <link rel="preload" as="font" href="{{site.assets}}font-face/OpenSans-Regular.woff" type="font/woff" crossorigin="anonymous">
    <link rel="preload" as="font" href="{{site.assets}}font-face/OpenSans-Semibold.woff" type="font/woff" crossorigin="anonymous"> -->

    {%- assign excludeFlag = false -%}
    {%- assign targetUrl = page.url -%}
    {%- if page.url contains '-v' -%}
	{%- assign candidateVersionStr = page.url |  split: '-v' -%}
	{%- for tmpStr in candidateVersionStr offset:1 -%}
		{%- assign tmpVer = tmpStr | split: '/' | first | replace: '.html', '' | strip -%}
		{%- capture firstChar -%}
			{{ tmpVer | truncate: 4 | replace:"...", "" }}
		{%- endcapture -%}
		{%- if firstChar >= "0" and firstChar <= "9" -%}
            {%- assign excludeFlag = true -%}
            {%- assign needRemoveStr = "-v" | append: tmpVer -%}
            {%- assign targetUrl = page.url | remove: needRemoveStr | strip -%}
			{%- break -%}
		{%- endif -%}
	{%- endfor -%}
    {%- endif -%}
    {%- assign targetUrl = targetUrl | replace: '/index.html', '/' | strip -%}

    {%- if excludeFlag -%}
    <meta name="robots" content="noindex">
    {%- endif -%}

    {%- assign docFullPath = site.docFullPath -%}
    {%- assign docFullPathLastChar = docFullPath | split:'' | last -%}
    {%- if docFullPathLastChar contains '/' -%}	
        {%- assign truncateDocHomePageSize = docFullPath | size | minus:1 -%}
        {%- assign docFullPath = docFullPath | slice: 0, truncateDocHomePageSize -%}
    {%- endif -%}
    <link href="{{ docFullPath }}{{ targetUrl }}" rel="canonical">
    
    <link rel="stylesheet" href="{{ site.assets }}css/dm-style.css?v={{ 'now' | date: "%s"}}">
    <link rel="stylesheet" href="{{ site.assets }}css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ site.assets }}css/font-awesome.min.css">
    <link rel="stylesheet" href="{{ site.assets }}css/basis-bs.min.css?v={{ 'now' | date: "%s"}}">
    <link href="https://www.dynamsoft.com/webres/wwwroot/css/header_bs.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{{ site.assets }}css/basis.min.css?v={{ 'now' | date: "%s"}}">
    <link rel="stylesheet" href="{{ site.assets }}css/footer.css">

    {%- assign showNoIndexStyle = false -%}
    {%- if page.noTitleIndex or page.url contains 'release-notes' -%}
        {%- assign showNoIndexStyle = true -%}
    {%- endif -%}
    {%- if site.docFullPath contains 'barcode-reader' or site.docFullPath contains 'web-twain' -%}
        {%- assign showNoIndexStyle = false -%}
    {%- endif -%}
    {%- if showNoIndexStyle -%}
        <style>
            .headCounter h2:before { content: ''!important; padding-right: 0px!important; }
            .headCounter h2 { counter-reset: none!important; counter-increment: none!important; }
            .headCounter h3:before { content: ''!important; padding-right: 0px!important; }
            .headCounter h3 { counter-reset: none!important; counter-increment: none!important; }
            .headCounter h4:before { content: ''!important; padding-right: 0px!important; }
            .headCounter h4 { counter-increment: none!important; }
        </style>
    {%- endif -%}

    <script>
        var myMermaid = null
    </script>

    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: false },);
        await mermaid.run({
            querySelector: '.language-mermaid'
        });
        myMermaid = mermaid
    </script>

    <script type="text/javascript" src="{{ site.assets }}js/jquery-3.5.0.min.js"></script>
    <script type="text/javascript" src="{{ site.assets }}js/bootstrap.min.js"></script>
    <script src="https://www.dynamsoft.com/webres/wwwroot/js/util.min.js"></script>
    <script src="https://www.dynamsoft.com/webres/wwwroot/js/site.min.js"></script>
    <script src="https://www.dynamsoft.com/webres/wwwroot/js/header.min.js"></script>
    <script type="text/javascript" src="{{ site.assets }}js/ds-jquery-bs.min.js"></script>

    {%- if site.useVersionTreeV2 -%}
    <script type="text/javascript" src="{{ site.assets }}js/index-banner-two.min.js?v={{ 'now' | date: "%s"}}"></script>
    <script type="text/javascript" src="{{ site.assets }}js/historymanage-two.min.js?v={{ 'now' | date: "%s"}}"></script>
    {%- else -%}
    <!-- <script type="text/javascript" src="{{ site.assets }}js/dcvVersionSearch.min.js?v={{ 'now' | date: "%s"}}"></script> -->
    <script type="text/javascript" src="{{ site.assets }}js/docsLangLatestVersion.js?v={{ 'now' | date: "%s"}}"></script>
    <script type="text/javascript" src="{{ site.assets }}js/index-banner.min.js?v={{ 'now' | date: "%s"}}"></script>
    <script type="text/javascript" src="{{ site.assets }}js/historymanage.min.js?v={{ 'now' | date: "%s"}}"></script>
    {%- endif -%}

    <script type="text/javascript" src="{{ site.assets }}js/layout.min.js?v={{ 'now' | date: "%s"}}"></script>
    <script type="text/javascript" src="{{ site.assets }}js/anchor.min.js"></script>

    {%- if page.hasCustomLdJson -%}
        {{page.customLdJsonScript}}
    {%- endif -%}

    {%- if page.codeAutoHeight -%}
    <style id="CodeAutoHeight">
        .markdown-body .sample-code-prefix+blockquote ol li pre.highlight {
            max-height: unset;
        }
        .markdown-body .sample-code-prefix.template2 + blockquote > div pre.highlight {
            max-height: unset;
        }
    </style>
    {%- endif -%}
</head>
