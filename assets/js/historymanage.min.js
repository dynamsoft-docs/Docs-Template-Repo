async function UrlReplace(){var e=document.URL,t=getUrlVars(e).product,r=getCurrentUrlProductName();t=t==r?null:t;var n=getUrlVars(e).ver,l=getUrlVars(e).matchVer,a=t?getUrlVars(e)[t]:null;dcvVersionList=await getVersionSearchList(),docsLangLatestVersion=await getLatestVersionFile(t||r,getCurrentUrlLang(e,!0)),IsArchiveDocsLink(document.URL),await initHistoryVersionList(a||n),"dcv"==t&&isArchiveDocsLink?(dcvVersionList=await getVersionSearchList(!0),isUseOldFunction=!0,UrlReplace_Old(e,t,r,n,l,a)):("dcv"==t&&DcvProducts.indexOf(r)>=0&&(r=t,t=null,$("#categoryMenuTree .docSearchPart").remove()),"dbr"==t&&$("#categoryMenuTree .docSearchPart").remove(),UrlReplace_New(e,t,r,n,l,a))}function UrlReplace_Old(e,t,r,n,l,a){if(r&&t&&"dcv"==r&&r!=t&&null==n&&null==a&&(n="latest",e=e.replace("product="+t,"product="+t+"&ver=latest")),null!=n&&"latest"!=n){if(null==t&&"dcv"==r&&"true"==l)return;if(null==t||t==r){var i=findNearestVersion(n);if("dcv"==r&&(i=getLinkVersion(n,document.URL,null,null,r),-1==i&&(i="latest")),i!=n&&"dcv"!=r){var o=e.replace("ver="+n,"ver="+i);window.location.replace(o)}else if("dcv"==r)return void RedirToGivenVersionPageForDCV_Old(i,n)}}if(a=getUrlVars(e)[t],null==l&&(null!=n||null!=a))if(null!=t&&t!=r&&null==a&&null!=n)a=getLinkVersion(n,e,t,getUrlVars(e).lang?getUrlVars(e).lang:"core",r),-1==a&&(a="latest"),e=e.replace("ver="+n,"ver="+a+"&"+t+"="+n),window.location.replace(e);else if(null!=t&&t!=r&&null!=a&&null==n){var s=getLinkVersion(a,e,t,getUrlVars(e).lang?getUrlVars(e).lang:"core",r);-1==s&&(s="latest"),e=e.replace(t+"="+a,t+"="+a+"&ver="+s),RedirToGivenVersionPage(s,e)}else RedirToGivenVersionPage(n||"latest");if(null==n&&null==a&&e.indexOf("-v")>0&&(e.indexOf("-v")<e.indexOf("?")||e.indexOf("?")<0)){var d=e.split("-v")[1];parseInt(d[0])<=9&&parseInt(d[0])>=0&&d.indexOf(".html")>0&&(d=d.split(".html")[0],e.indexOf("?")<0?window.location.replace(e+"?ver="+d):window.location.replace(e+"&ver="+d))}}function UrlReplace_New(e,t,r,n,l,a){let i=getCurrentUrlLang(e,!0),o=getProductLangLatestVersion(t||r,i),s=findNearestVersion(o);if(null==n&&null==a&&e.indexOf("-v")>0&&(e.indexOf("-v")<e.indexOf("?")||e.indexOf("?")<0)){var d=e.split("-v"),c=d[d.length-1];parseInt(c[0])<=9&&parseInt(c[0])>=0&&c.indexOf(".html")>0&&(c=c.split(".html")[0],c=getFormatVal(c)>getFormatVal(o)?"latest":c,t||c==o&&o==s?e.indexOf("?")<0?window.location.replace(e+"?ver=latest"):window.location.replace(e+"&ver=latest"):e.indexOf("?")<0?window.location.replace(e+"?ver="+c):window.location.replace(e+"&ver="+c))}if(r&&t&&null==n&&null==a&&(n="latest"),null!=n&&"latest"!=n&&!t){var u=findNearestVersion(n);if(u!=n&&("latest"!=u||n!=o)){var g=e.replace("ver="+n,"ver="+u);window.location.replace(g)}}if(a=getUrlVars(e)[t],null==l&&(null!=n||null!=a))if(t&&null==a&&null!=n)a=getLinkVersion(n,e,t,getUrlVars(e).lang?getUrlVars(e).lang:"core",r),-1==a&&(a="latest"),e=e.indexOf("ver=")>0?e.replace("ver="+n,"ver="+a+"&"+t+"="+n):e.replace("product="+t,"product="+t+"&ver="+a+"&"+t+"="+n),RedirToGivenVersionPage(a,e);else if(t&&null!=a&&null==n){var f=getLinkVersion(a,e,t,getUrlVars(e).lang?getUrlVars(e).lang:"core",r);-1==f&&(f="latest"),e=e.replace(t+"="+a,t+"="+a+"&ver="+f),RedirToGivenVersionPage(f,e)}else RedirToGivenVersionPage(n||"latest",e);null!=l||"latest"==s||(!t||null!=a&&"latest"!=a)&&(t||null!=n&&"latest"!=n)||RedirToGivenVersionPage(s,e)}function RedirToGivenVersionPageForDCV_Old(e,t){var r=-1,n=-1,l=e,a="",i=$(".otherVersions"),o=null;if(document.URL.indexOf("-v")>0&&(o=SearchVersion(document.URL.indexOf("?")>0?document.URL.split("?")[0]:document.URL)[0]),(!o||o!=e)&&(r=-1,n=GetVersionDiff(e,o||"latest"),bestVersion=l,0!=n)){if(-1!=document.URL.indexOf("#")){var s=document.URL.split("#");2==s.length&&(a="#"+s[1].toLowerCase())}if(null!=i)for(var d=i[0].getElementsByTagName("li"),c=0;c<d.length;c++){var u=d[c].innerText,g=null;if(g=u.indexOf("latest version")>=0?"latest":u.replace("version ",""),g==e){var f=$(d[c]).children("a");if(f.length>0&&f[0].href){var p=new RegExp(/[?]+([^=]+)=/gi);if(null!=p.exec(f[0].href))return void("latest"==inputVer?window.location.replace(f[0].href):window.location.replace(f[0].href+"&ver="+t+"&matchVer=true"+a));var h=f[0].href;return void("latest"==inputVer?window.location.replace(h+a):window.location.replace(`${h}${h.indexOf("?")>0?"&":"?"}ver=${t}&matchVer=true${a}`))}}else{var m=GetVersionDiff(e,g);m>=0&&(m<n||n<0)&&(r=c,n=m,bestVersion=g)}}if(r>=0){f=$(d[r]).children("a");if(f.length>0){p=new RegExp(/[?]+([^=]+)=/gi);if(null!=p.exec(f[0].href))return void window.location.replace(f[0].href+"&ver="+t+"&matchVer=true"+a);var v=getUrlVars(document.URL).src;h=f[0].href;return null!=v&&(h=h+"?src="+v),void window.location.replace(`${h}${h.indexOf("?")>0?"&":"?"}ver=${t}&matchVer=true${a}`)}}if("latest"==e||-1==r){v=getUrlVars(document.URL).src,h=document.URL.indexOf("?")>0?document.URL.split("?")[0]:document.URL;null!=v&&(h=h+"?src="+v),"latest"==e?window.location.replace(`${h}${h.indexOf("?")>0?"&":"?"}matchVer=true${a}`):window.location.replace(`${h}${h.indexOf("?")>0?"&":"?"}ver=${t}&matchVer=true${a}`)}}}function RedirToGivenVersionPage(e,t=null){var r=$(".currentVersion"),n=-1,l=-1,a=null,i=t||document.URL,o=t||document.URL;if(null!=r){var s=r[0].innerHTML.toLowerCase();a=s.indexOf("latest version")>=0?"latest":s.replace("version ","");var d=null;if(i.indexOf("-v")>0&&(d=SearchVersion(i.indexOf("?")>0?i.split("?")[0]:i)[0]),a==e&&d&&d==e)return;if(n=-1,l=GetVersionDiff(e,d||"latest"),bestVersion=a,0==l)return}var c="";if(-1!=o.indexOf("#")){var u=o.split("#");2==u.length&&(c="#"+u[1].toLowerCase())}var g="",f=getUrlVars(i).cVer;null!=f&&(g="&cVer=true");var p="",h=getUrlVars(i).product,m=getUrlVars(i).lang;let v=getProductLangLatestVersion(h||getCurrentUrlProductName(),getCurrentUrlLang(document.URL,!0)),L=findNearestVersion(v),U=e;e==v&&L==v&&"latest"!=L&&(U="latest");var V=$(".otherVersions");if(null!=V)for(var w=V[0].getElementsByTagName("li"),x=0;x<w.length;x++){var C=w[x].innerText,O=null;if(O=C.indexOf("latest version")>=0?"latest":C.replace("version ",""),O==e){var R=$(w[x]).children("a");if(R.length>0&&R[0].href){var k=new RegExp(/[?]+([^=]+)=/gi);if(null!=k.exec(R[0].href))return null!=h&&getCurrentUrlProductName()==h&&(p=`&product=${h}${null!=m?"&lang="+m:""}`,null!=getUrlVars(i)[h]&&(p+="&"+h+"="+getUrlVars(i)[h])),void("latest"==e?window.location.replace(R[0].href+p+c):window.location.replace(R[0].href+"&ver="+U+"&matchVer=true"+p+g+c));var P=getUrlVars(i).src,b=R[0].href;return null!=P&&(b=b+"?src="+P),null!=m&&(b=null!=P?b+"&lang="+m:b+"?lang="+m),null!=h&&getCurrentUrlProductName()!=h&&(p=`${b.indexOf("?")>0?"&":"?"}product=${h}`,null!=getUrlVars(i)[h]&&(p+="&"+h+"="+getUrlVars(i)[h]),b+=p),void("latest"==e?window.location.replace(b+c):window.location.replace(`${b}${b.indexOf("?")>0?"&":"?"}ver=${U}&matchVer=true${g}${c}`))}}else{var N=GetVersionDiff(e,O);N>=0&&(N<l||l<0)&&(n=x,l=N,bestVersion=O)}}if(n>=0){R=$(w[n]).children("a");if(R.length>0){k=new RegExp(/[?]+([^=]+)=/gi);if(null!=k.exec(R[0].href))return void window.location.replace(R[0].href+"&ver="+U+"&matchVer=true"+g+c);P=getUrlVars(i).src,b=R[0].href;return null!=P&&(b=b+"?src="+P),null!=m&&(b=null!=P?b+"&lang="+m:b+"?lang="+m),null!=h&&getCurrentUrlProductName()!=h&&(p="&product="+h,null!=getUrlVars(i)[h]&&(p+="&"+h+"="+getUrlVars(i)[h])),void window.location.replace(`${b}${b.indexOf("?")>0?"&":"?"}ver=${U}&matchVer=true${p}${g}${c}`)}}if("latest"==e){P=getUrlVars(o).src,b=o.indexOf("?")>0?o.split("?")[0]:o;null!=P&&(b=b+"?src="+P),null!=m&&(b=null!=P?b+"&lang="+m:b+"?lang="+m),null!=h&&getCurrentUrlProductName()!=h&&(p=`${b.indexOf("?")>0?"&":"?"}product=${h}`,null!=getUrlVars(i)[h]&&(p+="&"+h+"="+getUrlVars(i)[h]),b=b+p+"&matchVer=true"),window.location.replace(b+c)}}function addParam(e,t,r=null,n=!1){let l=e.href;l.indexOf(location.host+"/faq/")>=0&&document.URL.indexOf(location.host+"/faq/")>=0?$(e).hasClass("activeLink")||RequestNewPage(e,l,n):isUseOldFunction?addParam_Old(e,t,r,n):addParam_New(e,t,r,n)}function addParam_Old(e,t,r=null,n=!1){let l=e.href,a=e.href,i=getUrlVars(document.URL).product||getCurrentUrlProductName(document.URL),o=getUrlVars(document.URL).lang||getCurrentUrlLang(document.URL,!0),s=document.URL.split(docsFolderName)[0]+docsFolderName,d=getUrlVars(document.URL)[i];if(null!=d&&(t=d),""==a)return;if(a.indexOf(docsFolderName)<=0||a.indexOf(location.host)<0)return void window.open(e.href);let c=a.indexOf("#"),u=a.indexOf("?"),g="";if(-1!=c)if(1!=u&&c<u){var f=a.split("?"),p=f[0].split("#");g="#"+p[1]}else{var h=a.split("#");g=2==h.length?"#"+h[1]:""}a=a.replace(g,"");let m=getUrlVars(a).lang;if($(".languageWrap.multiProgrammingLanguage").length>0&&"objectivec-swift"==getCurrentUrlLang(a,!0)){let e=$(".languageWrap .languageSelectDown > div.on").data("value");a=m?a.replace("lang="+m,"lang="+e):`${a}${a.indexOf("?")>0?"&":"?"}lang=${e}`}var v="",L=new RegExp(/[?]+([^=]+)=/gi);a.indexOf("/server/programming/c-cplusplus/")>0&&!getUrlVars(a).src&&(v=getUrlVars(document.URL).src?null==L.exec(a)?"?src="+getUrlVars(document.URL).src:"&src="+getUrlVars(document.URL).src:null==L.exec(a)?"?src="+getCurrentUrlLang(document.URL):"&src="+getCurrentUrlLang(document.URL)),a+=v;var U=new RegExp(/[?&]ver=[^&^#]+/gi),V="";null==U.exec(a)&&""!=t&&"latest"!=t&&(V=null!=L.exec(a)?"&ver="+t:"?ver="+t),a+=V;var w="";if(dcvVersionList){if(!getUrlVars(a).product){var x=!1;a.indexOf(s)<0&&a.indexOf(document.location.host)>=0&&a.indexOf(docsFolderName)>0?getUrlVars(document.URL).product?getUrlVars(document.URL).product!=getCurrentUrlProductName(a)?(w=`${a.indexOf("?")<0?"?":"&"}product=${getUrlVars(document.URL).product}`,x=!0):getUrlVars(document.URL).product==getCurrentUrlProductName(a)&&getCurrentUrlLang(a,!0)!=o&&(x=!0):(w=`${a.indexOf("?")<0?"?":"&"}product=${i}`,x=!0):a.indexOf(s)>=0&&getUrlVars(document.URL).product&&(w=`${a.indexOf("?")<0?"?":"&"}product=${getUrlVars(document.URL).product}`,x=!0,!0),x&&""!=o&&(getUrlVars(a).lang?a.replace(`lang=${getUrlVars(a).lang}`,`lang=${o}`):w+=`${a.indexOf("?")<0&&""==w?"?":"&"}lang=${o}`)}getUrlVars(a).lang||a.indexOf(s)>=0&&!getUrlVars(document.URL).product&&getCurrentUrlLang(a,!0)!=o&&""!=o&&(getUrlVars(a).lang?a.replace(`lang=${getUrlVars(a).lang}`,`lang=${o}`):w+=`${null==L.exec(a)&&""==w?"?":"&"}lang=${o}`)}if(a+=w,"_blank"==e.target)if(null!=getUrlVars(l).ver)window.open(l);else{let e=l.indexOf("#"),t=l.indexOf("?"),r="";if(-1!=e)if(-1!=t&&e<t){let e=l.split("?"),t=e[0].split("#");r="#"+t[1],l=l.replace(r,"")}else if(-1!=t&&e>t)r="#"+l.split("#")[1],l=r?l.split("#")[0]:l;else{let e=l.split("#");2==e.length&&(r="#"+e[1])}r&&""!=r&&(l=l.replace(r,""));let n=$(".currentVersion").text().toLowerCase();if(n=n.indexOf("latest version")>=0?"latest":n.replace("version ",""),null!=getUrlVars(l).product){let e=getUrlVars(l).product,t=getLinkVersion(n,null,i,o,e);-1==t&&(t=n);let a=getUrlVars(l).lang?getUrlVars(l).lang:getCurrentUrlLang(l,!0),s=getCurrentUrlProductName(l),d=getLinkVersion(t,null,e,a,s);-1==d&&(d=t),null!=getUrlVars(l).lang?queryParam=`&${e}=${t}&ver=${d}`:queryParam=`&${e}=${t}${a?"&lang="+a:""}&ver=${d}`,window.open(l+queryParam+r)}else{let e=!1;getUrlVars(document.URL).product&&!getUrlVars(document.URL).lang?e=!0:document.URL.indexOf(docsFolderName+"core/")&&(e=!0);var C=getCurrentUrlProductName(l),O=getCurrentUrlLang(l,!0),R=["cordova","xamarin","flutter","react-native","maui"];if(e&&(O&&C==i||"dcv"==C&&R.includes(O)))if(O&&C==i)window.open(`${l}${"latest"==n?"":t>0?"&ver="+n:"?ver="+n}${r}`);else{let e=getDCVLangVersion(O,n);-1==e&&(e=n),window.open(`${l}${t>0?"&":"?"}ver=${e}${r}`)}else if(C==i&&o){var k=getProductLangLatestVersion(R.includes(O)&&"dcv"!=C?"dcv":C,""!=O?O:"core"),P=getProductLangLatestVersion(R.includes(o)&&"dcv"!=i?"dcv":i,o),b=n;"latest"==b&&getFormatVal(P)<getFormatVal(k)&&(b=P),window.open(`${l}${t>0?"&":"?"}ver=${b}${r}`)}else{let e=getLinkVersion(n,l,i,o,C);-1==e&&(e=n),"latest"==e?window.open(l+r):t>0?window.open(l+"&ver="+e+r):window.open(l+"?ver="+e+r)}}}else if("sidebar"==r)$(e).hasClass("activeLink")||RequestNewPage(e,a+g,n);else if("docContainer"==r)findCurLinkOnFullTree(e,a+g,n);else if("rightMenuContainer"==r)if(g&&$(g.toLowerCase()).length>0){window.scrollTo(0,$(g.toLowerCase()).offset().top-160);var N=window.location.hash,y=N?document.URL.replace(N,g):document.URL+g;$(e).hasClass("active")||history.pushState(null,null,y)}else window.location.href=a+g;else window.location.href=a+g}function addParam_New(e,t,r=null,n=!1){let l=e.href,a=e.href,i=getUrlVars(document.URL).product||getCurrentUrlProductName(document.URL);i=("dbr"!=i||!isArchiveDocsLink)&&DcvProducts.indexOf(i)>=0?"dcv":i;let o=getUrlVars(document.URL).lang||getCurrentUrlLang(document.URL,!0),s=docsFolderName.split("/v")[0]+"/",d=document.URL.split(docsFolderName)[0]+s,c=getUrlVars(document.URL)[i];if(null!=c&&(t=c),""==a)return;if((a.indexOf(docsFolderName)<=0||a.indexOf(location.host)<0)&&("dbr"!=i&&"dcv"!=i||a.indexOf(s)<=0))return void window.open(e.href);let u=a.indexOf("#"),g=a.indexOf("?"),f="";if(-1!=u)if(1!=g&&u<g){var p=a.split("?"),h=p[0].split("#");f="#"+h[1]}else{var m=a.split("#");f=2==m.length?"#"+m[1]:""}a=a.replace(f,"");let v=getUrlVars(a).lang;if($(".languageWrap.multiProgrammingLanguage").length>0&&"objectivec-swift"==getCurrentUrlLang(a,!0)){let e=$(".languageWrap .languageSelectDown > div.on").data("value");a=v?a.replace("lang="+v,"lang="+e):`${a}${a.indexOf("?")>0?"&":"?"}lang=${e}`}var L="";a.indexOf("/server/programming/c-cplusplus/")>0&&!getUrlVars(a).src&&(L=getUrlVars(document.URL).src?a.indexOf("?")<0?"?src="+getUrlVars(document.URL).src:"&src="+getUrlVars(document.URL).src:a.indexOf("?")<0?"?src="+getCurrentUrlLang(document.URL):"&src="+getCurrentUrlLang(document.URL)),a+=L;var U=new RegExp(/[?&]ver=[^&^#]+/gi),V="";null==U.exec(a)&&""!=t&&"latest"!=t&&(V=a.indexOf("?")>0?"&ver="+t:"?ver="+t),a+=V;var w="";if(dcvVersionList){var x=getCurrentUrlProductName(a);if(getUrlVars(a).product)getUrlVars(a).lang||(a.indexOf(d)>=0||"dcv"==i&&DcvProducts.indexOf(x)>=0)&&!getUrlVars(document.URL).product&&getCurrentUrlLang(a,!0)!=o&&""!=o&&(getUrlVars(a).lang?a.replace(`lang=${getUrlVars(a).lang}`,`lang=${o}`):w+=`${a.indexOf("?")<0&&""==w?"?":"&"}lang=${o}`);else{var C=!1;a.indexOf("/docs-archive/")>=0?(w=`${a.indexOf("?")<0?"?":"&"}product=${i}`,C=!0):a.indexOf(d)<0&&("dcv"!=i||DcvProducts.indexOf(x)<0)?getUrlVars(document.URL).product&&getUrlVars(document.URL).product==x?getUrlVars(document.URL).product==x&&getCurrentUrlLang(a,!0)!=o&&(C=!0):(w=`${a.indexOf("?")<0?"?":"&"}product=${i}`,C=!0):a.indexOf(d)>=0?x!=i&&("dcv"!=i||DcvProducts.indexOf(x)<0)?(w=`${a.indexOf("?")<0?"?":"&"}product=${i}`,C=!0):(DcvProducts.indexOf(x)>=0&&getUrlVars(document.URL).lang&&(C=!0),x==i&&getCurrentUrlLang(a,!0)!=o&&""!=o&&(C=!0)):"dcv"==x&&DcvProducts.indexOf(i)>=0&&getCurrentUrlLang(a,!0)==o||(C=!0),C&&""!=o&&(getUrlVars(a).lang?a.replace(`lang=${getUrlVars(a).lang}`,`lang=${o}`):w+=`${a.indexOf("?")<0&&""==w?"?":"&"}lang=${o}`)}}if(a+=w,"_blank"==e.target)if(null!=getUrlVars(l).ver)window.open(l);else{let e=l.indexOf("#"),t=l.indexOf("?"),r="",n="";if(-1!=e)if(-1!=t&&e<t){let e=l.split("?"),t=e[0].split("#");r="#"+t[1],l=l.replace(r,"")}else if(-1!=t&&e>t)r="#"+l.split("#")[1],l=r?l.split("#")[0]:l;else{let e=l.split("#");2==e.length&&(r="#"+e[1])}r&&""!=r&&(l=l.replace(r,""));let a=$(".currentVersion").text().toLowerCase();if(a=a.indexOf("latest version")>=0?"latest":a.replace("version ",""),null!=getUrlVars(l).product&&getUrlVars(l).product!=i){if("dbr"==i&&isArchiveDocsLink){let e=getUrlVars(l).product,t=getLinkVersion(a,null,i,o,e);-1==t&&(t=a);let r=getUrlVars(l).lang?getUrlVars(l).lang:getCurrentUrlLang(l,!0),s=getCurrentUrlProductName(l),d=getLinkVersion(t,null,e,r,s);-1==d&&(d=t),n=null!=getUrlVars(l).lang?`&${e}=${t}&ver=${d}`:`&${e}=${t}${r?"&lang="+r:""}&ver=${d}`}else{let e=getUrlVars(l).product,t=getLinkVersion(a,null,i,o,e);-1==t&&(t=a),n=`&ver=${t}`}window.open(l+n+r)}else if("dbr"==i&&isArchiveDocsLink){let e=!1;getUrlVars(document.URL).product&&!getUrlVars(document.URL).lang?e=!0:document.URL.indexOf(docsFolderName+"core/")&&(e=!0);var O=getUrlVars(l).product||getCurrentUrlProductName(l),R=getCurrentUrlLang(l,!0),k=["cordova","xamarin","flutter","react-native","maui"];if(e&&(R&&O==i||"dcv"==O&&k.includes(R)))if(R&&O==i)window.open(`${l}${"latest"==a?"":t>0?"&ver="+a:"?ver="+a}${r}`);else{let e=getDCVLangVersion(R,a);-1==e&&(e=a),window.open(`${l}${t>0?"&":"?"}ver=${e}${r}`)}else if(O==i&&o){var P=getProductLangLatestVersion(k.includes(R)&&"dcv"!=O?"dcv":O,""!=R?R:"core"),b=getProductLangLatestVersion(k.includes(o)&&"dcv"!=i?"dcv":i,o),N=a;"latest"==N&&getFormatVal(b)<getFormatVal(P)&&(N=b),window.open(`${l}${t>0?"&":"?"}ver=${N}${r}`)}else{let e=getLinkVersion(a,l,i,o,O);-1==e&&(e=a),"latest"==e?window.open(l+r):t>0?window.open(l+"&ver="+e+r):window.open(l+"?ver="+e+r)}}else{O=getUrlVars(l).product||getCurrentUrlProductName(l);if(O==i)"latest"!=a&&(n=t>0?`&ver=${a}`:`?ver=${a}`);else{let e=getLinkVersion(a,null,i,o,O);-1==e&&(e=a),"latest"!=a&&(n=t>0?`&ver=${e}`:`?ver=${e}`)}window.open(l+n+r)}}else if("sidebar"==r)$(e).hasClass("activeLink")||RequestNewPage(e,a+f,n);else if("docContainer"==r)findCurLinkOnFullTree(e,a+f,n);else if("rightMenuContainer"==r)if(f&&$(f.toLowerCase()).length>0){window.scrollTo(0,$(f.toLowerCase()).offset().top-160);var y=window.location.hash,T=y?document.URL.replace(y,f):document.URL+f;$(e).hasClass("active")||history.pushState(null,null,T)}else window.location.href=a+f;else window.location.href=a+f}function RequestNewPage(e,t,r=!1,n=null,l=!1){$("#articleContent").addClass("hidden"),$("#loadingContent").show();var a=n||e.href,i=getCurrentUrlLang(document.URL);fetch(a,{cache:"no-cache"}).then(function(e){return e.text()}).then(function(a){var o,s=getRequestNewPageVersion(t),d=$(a).find(".otherVersions > li"),c=!1;if(c="latest"!=s&&null!=s&&0!=d.length&&!n,c){var u=-1,g=-1,f=$(a).find(".otherVersions"),p=e,h=!1;if(null!=f){var m=f[0].getElementsByTagName("li");for(C=0;C<m.length;C++){var v=m[C].innerText,L=null;if(L=v.indexOf("latest version")>=0?"latest":v.replace("version ",""),L==s){var U=$(m[C]).children("a");return p=U[0],t.indexOf("?")>0?t=p.href+"?"+t.split("?")[1]:t.indexOf("#")>0&&(t=p.href+"#"+t.split("#")[1]),h=!0,void RequestNewPage(e,t,r,p.href,l)}var V=GetVersionDiff(s,L);V>=0&&(V<g||g<0)&&(u=C,g=V,L)}if(u>=0&&!h){U=$(m[u]).children("a");return p=U[0],t.indexOf("?")>0?t=p.href+"?"+t.split("?")[1]:t.indexOf("#")>0&&(t=p.href+"#"+t.split("#")[1]),void RequestNewPage(e,t,r,p.href,l)}if(!h)return void RequestNewPage(e,t,r,e.href,l)}}else{document.title=$(a)[1].innerText;let n=$(a).find(".languageWrap");if(n&&n.length>0&&$(".languageWrap").length>0){n=n[0];let e=n.className.trim(),r=$(".languageWrap").attr("class").trim();if(e!=r){$(".languageWrap").attr("class",e);var w=getUrlVars(t).lang;if($(".languageWrap.multiProgrammingLanguage").length>0&&isInIOSDos(document.URL,t)){var x=$(".languageWrap .languageSelectDown > div.on").data("value");if(!$(".languageWrap").hasClass("enableLanguageSelection")){let e="";if(e=$(a).find(".language-swift").length>0?"swift":"objc",e!=x){$(".languageWrap .languageSelectDown > div").removeClass("on");let t=$(".languageWrap .languageSelectDown > div");for(var C=0;C<t.length;C++)$(t[C]).data("value")==e&&($(t[C]).addClass("on"),$(".languageWrap .languageChange .chosenLanguage").text($(t[C]).text()))}x=e}if(w)t=t.replace("lang="+w,"lang="+x);else if(t.indexOf("?")>0){let e=t.split("?");t=e[0]+"?lang="+x+"&"+e[1]}else if(t.indexOf("#")>0){let e=t.split("#");t=e[0]+"?lang="+x+"#"+e[1]}else t=t+"?lang="+x}else if(w)if(isInIOSDos(document.URL,t)){if(t=t.replace("lang="+w,""),t&&t.indexOf("?")>=0){var O=t.split("?")[1].trim();""!=O&&"#"!=O[0]||(t=t.replace("?",""))}}else t=t.replace("lang="+w,"lang=objc,swift")}}!l&&history.pushState(null,null,t);for(var C=0;C<$("#fullTreeMenuListContainer .activeLink").parents("li").length;C++){var R=$("#fullTreeMenuListContainer .activeLink").parents("li")[C];$(R).hasClass("hasActiveLinkList")&&$(R).removeClass("hasActiveLinkList")}$("#fullTreeMenuListContainer .activeLink").removeClass("activeLink"),$(e).addClass("activeLink"),loadActiveTagMenu(e);var k=getCurrentUrlLang(document.URL);i!=k&&FilterLangFullTree();var P=$("#articleContent").hasClass("showRightSideMenu");$("#articleContent").html($(a).find("#articleContent").html()).removeClass("hidden"),$("#feedbackFooter a.smileLink").prop("href","#"),$("#feedbackFooter a.smileLink").on("click",function(e){return e.preventDefault(),UsefulRecord(!0),!1}),$("#feedbackFooter a.sadLink").prop("href","#"),$("#feedbackFooter a.sadLink").on("click",function(e){return e.preventDefault(),UsefulRecord(!0),!1}),P||$("#articleContent").find(".rightSideMenu, .markdown-body").removeClass("showRightSideMenu"),$("#loadingContent").hide(),r=1==$(a).find("#articleContent").data("needh3");var b=document.getElementsByClassName("mainPage")[0];if(b.scrollHeight>b.clientHeight){var N=$(".activeLink").offset().top-$(".mainPage").offset().top;N-b.scrollTop+40>b.clientHeight&&(b.scrollTop=N-200)}if($(".headCounter").hasClass("noTitleIndex")?$("#AutoGenerateSidebar").addClass("noTitleIndex"):$("#AutoGenerateSidebar").removeClass("noTitleIndex"),$(".createCaseLink").length>0){var y=$(".createCaseLink").attr("href");$(".createCaseLink").attr("href",y+"&product="+(getUrlVars(t).product||getCurrentUrlProductName(t)))}if($(a).find("#docHead").find(".iconsBox a").length>0){var T=$(a).find("#docHead").find(".iconsBox a")[0].href;$("#docHead .iconsBox a").attr("href",T)}var F=$("#articleContent").find("a"),H=SearchVersion();for(C=0;C<F.length;C++)F[C].onclick=function(){return addParam(this,H[0],"docContainer",r),!1};$("#AutoGenerateSidebar").length>0&&($("#fullTreeMenuListContainer").removeClass("needh3"),r&&$("#fullTreeMenuListContainer").addClass("needh3"),GenerateContentByHead(r),0==$("#AutoGenerateSidebar > ul > li").length?$(".rightSideMenu > p").hide():$(".rightSideMenu > p").show());let s=$(a).find("#latestPageUri"),c=$("#latestPageUri");if(c&&c.length>0)if(s&&s.length>0){let e=$(s).val();$(c).val(e)}else $(c).val("");else s&&s.length>0&&$("#docHead").append(s);$("#crumbs > ul").html($("#crumbs > ul > li").eq(0)),initCrumbs(),init(),$(".otherVersions").html($(a).find(".otherVersions").html()),initNoteForOldVersions(d);var D=$(".markdown-body .highlight pre");for(C=0;C<D.length;C++){var S=document.createElement("i");S.className="copyIcon fa fa-copy",D[C].appendChild(S)}let u=$(".multi-panel-switching-prefix");for(let e=0;e<u.length;e++){generateSwitchingItems($(u[e]),r);let t=$(u[e]).find("+ul > li"),n=0;if(I&&""!=I)for(let e=0;e<t.length;e++)"#"+$(t[e]).find("a").attr("href")==I&&(n=e);$(t[n]).addClass("on");let l=$(u[e]).find("+ul ~");showSelectMultiPanel(l,n,r)}if($("article").on("click",".multi-panel-switching-prefix + ul > li",function(){$(this).parent("ul").find("li").removeClass("on"),$(this).addClass("on");let e=$(this).parent("ul").nextAll();showSelectMultiPanel(e,$(this).index(),r)}),$(".markdown-body .sample-code-prefix").length>0&&null!=getUrlVars(document.URL).lang){var q=getUrlVars(document.URL).lang;null!=q&&"objectivec-swift"==q&&(q="objc,swift"),q=q.toLowerCase().trim().split(","),q&&(1==q.length?"android"==q[0].toLowerCase()?sampleCodeLangsInit(["kotlin","android"]):sampleCodeSingleLangInit(q[0]):sampleCodeLangsInit(q))}else if($(".markdown-body .sample-code-prefix").length>0){$(".markdown-body .sample-code-prefix + blockquote > ul > li:first-child").addClass("on"),$(".markdown-body .sample-code-prefix + blockquote > ol > li:first-child").addClass("on");var M=$(".markdown-body .sample-code-prefix.template2 + blockquote");for(C=0;C<M.length;C++)$(M[C]).find(">div").eq(0).addClass("on")}let g=$(a).filter(function(e){return"CodeAutoHeight"==$(a).eq(e).attr("id")});g&&g.length>0?0==$("#CodeAutoHeight").length&&($(".markdown-body .sample-code-prefix+blockquote ol li pre.highlight").css("max-height","unset"),$(".markdown-body .sample-code-prefix.template2 + blockquote > div pre.highlight").css("max-height","unset")):($("#CodeAutoHeight").remove(),$(".markdown-body .sample-code-prefix+blockquote ol li pre.highlight").css("max-height","400px"),$(".markdown-body .sample-code-prefix.template2 + blockquote > div pre.highlight").css("max-height","400px")),$("#articleContent").find("script").length>0&&(window.MathJax=null,window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},chtml:{scale:1}},o=document.createElement("script"),o.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",o.async=!0,document.head.appendChild(o)),myMermaid&&myMermaid.run({querySelector:".language-mermaid"}),$(".filetree h3").length>0&&($(window).outerWidth()>1680?"lg"==breakpoint()&&($(".markdown-body h2").css({"padding-top":$("#docHead").outerHeight()+110+"px"}),$(".markdown-body h2").css({"margin-top":-$("#docHead").outerHeight()-80+"px"}),$(".markdown-body h3").css({"padding-top":$("#docHead").outerHeight()+110+"px"}),$(".markdown-body h3").css({"margin-top":-$("#docHead").outerHeight()-110+"px"}),$(".markdown-body h4").css({"padding-top":$("#docHead").outerHeight()+110+"px"}),$(".markdown-body h4").css({"margin-top":-$("#docHead").outerHeight()-110+"px"}),$(".markdown-body h5").css({"padding-top":$("#docHead").outerHeight()+110+"px"}),$(".markdown-body h5").css({"margin-top":-$("#docHead").outerHeight()-110+"px"})):"lg"==breakpoint()?($(".markdown-body h2").css({"padding-top":$("#docHead").outerHeight()+90+"px"}),$(".markdown-body h2").css({"margin-top":-$("#docHead").outerHeight()-60+"px"}),$(".markdown-body h3").css({"padding-top":$("#docHead").outerHeight()+90+"px"}),$(".markdown-body h3").css({"margin-top":-$("#docHead").outerHeight()-90+"px"}),$(".markdown-body h4").css({"padding-top":$("#docHead").outerHeight()+90+"px"}),$(".markdown-body h4").css({"margin-top":-$("#docHead").outerHeight()-90+"px"}),$(".markdown-body h5").css({"padding-top":$("#docHead").outerHeight()+90+"px"}),$(".markdown-body h5").css({"margin-top":-$("#docHead").outerHeight()-90+"px"})):($(".markdown-body h2").css({"padding-top":"90px"}),$(".markdown-body h2").css({"margin-top":"-60px"}),$(".markdown-body h3").css({"padding-top":"90px"}),$(".markdown-body h3").css({"margin-top":"-60px"}),$(".markdown-body h4").css({"padding-top":"90px"}),$(".markdown-body h4").css({"margin-top":"-90px"}),$(".markdown-body h5").css({"padding-top":"90px"}),$(".markdown-body h5").css({"margin-top":"-90px"}))),setTimeout(function(){for(var e=$(".fold-panel-prefix"),t=0;t<e.length;t++){var r=$(".fold-panel-prefix").eq(t);$(r).next().find("i").css({width:$(r).next().width()-24+"px"}),$(r).next().find("i").css({height:$(r).next().height()+"px"}),$(r).next().find("i").css({"line-height":$(r).next().height()+"px"}),$(r).next().find("i").css({opacity:1})}},500),anchors.add();var I=t.split("#").length>1?t.split("#")[1].toLowerCase():null,j=$(window).scrollTop();if(I&&$("#"+I).length>0){var G=$("#"+I).offset().top;setTimeout(function(){window.scrollTo(0,G-160),realFunc()},100)}else if(j>0){G=j>$("#overall-header").height()?$("#overall-header").height():j;setTimeout(function(){window.scrollTo(0,G),realFunc()},100)}}})}function findCurLinkOnFullTree(e,t,r=!1,n=!1,l=!1){var a=$("#fullTreeMenuListContainer").find("a"),i=e.href.toLowerCase(),o=document.URL.toLowerCase();if(i=i.indexOf("?")>0?i.split("?")[0]:i.indexOf("#")>0?i.split("#")[0]:i,o=o.indexOf("?")>0?o.split("?")[0]:o.indexOf("#")>0?o.split("#")[0]:o,o==i&&(e.href.split("#").length>1||document.URL.split("#").length>1)&&!l){var s=e.href.split("#").length>1?e.href.split("#")[1].toLowerCase():null,d=$(e).parents("ul");(d.length<=0||!$(d[0]).prev().hasClass("multi-panel-switching-prefix"))&&s&&$("#"+s.toLowerCase()).length>0&&window.scrollTo(0,$("#"+s.toLowerCase()).offset().top-160),!n&&history.pushState(null,null,t)}else{var c=!1;i=i.replace(/\/index-v[0-9]+[^\/]*.html/g,"/"),i=i.replace(/-v[0-9]+[^\/]*\//g,"/"),i=i.replace(/-v[0-9]+[^\/]*.html/g,".html"),i=i.indexOf("index.html")>0?i.replace("index.html",""):i;for(var u=0;u<a.length;u++)if(!c){var g=a[u].href;if(g=g.replace(/\/index-v[0-9]+[^\/]*.html/g,"/"),g=g.replace(/-v[0-9]+[^\/]*\//g,"/"),g=g.replace(/-v[0-9]+[^\/]*.html/g,".html"),g=g.indexOf("?")>0?g.split("?")[0]:g.indexOf("#")>0?g.split("#")[0]:g,g=g.indexOf("index.html")>0?g.replace("index.html",""):g,g&&g.toLowerCase()==i.toLowerCase())if(null!==a[u].offsetParent)c=!0,$(a[u]).hasClass("refreshLink")?$(a[u]).trigger("click"):RequestNewPage(a[u],t,r,null,n);else{for(var f=$(a[u]).parents("li"),p=!1,h=0;h<f.length;h++)null!=$(f[h]).attr("otherlang")&&(p=!0),!c&&(null==$(f[h]).attr("otherlang")&&$(f[h]).attr("lang")||document.URL.indexOf(docsFolderName+"web/")>0)&&(c=!0,$(a[u]).hasClass("refreshLink")?$(a[u]).trigger("click"):RequestNewPage(a[u],t,r,null,n));p||c||(c=!0,$(a[u]).hasClass("refreshLink")?$(a[u]).trigger("click"):RequestNewPage(a[u],t,r,null,n))}else g.toLowerCase()==i&&a[u].hasClass("refreshLink")&&(c=!0,$(a[u]).trigger("click"))}c||(document.URL.indexOf("/mobile-web-capture/docs/")>0||document.URL.indexOf("/document-viewer/docs/")>0?window.open(t):window.open(e.href))}}async function changeVersion(e){console.log("changeVersion",e);var t=document.URL,r=e.innerText.toLowerCase(),n=null;n=r.indexOf("latest version")>=0?"latest":r.replace("version ","");var l=getUrlVars(t).src,a=getUrlVars(t).lang,i=getUrlVars(t).product,o=void 0;-1!=t.indexOf("#")&&(o=t.split("#").pop()),-1!=t.indexOf("?")&&(t=t.substring(0,t.indexOf("?"))),-1!=t.indexOf("#")&&(t=t.substring(0,t.indexOf("#")));let s=location.origin+getDocumentationLink(i||getCurrentUrlProductName(),a||getCurrentUrlLang(document.URL,!0),document.URL);if($(e).hasClass("latestVer"))return t=t.replace(/\/index-v[0-9]+\.[0-9]+\.[0-9]+[^\/]*\.html/g,"/"),t=t.replace(/-v[0-9]+\.[0-9]+\.[0-9]+[^\/]*\.html/g,".html"),t=t.replace(/-v[0-9]+\.[0-9]+\.[0-9]+[^\/]*\//g,"/"),t=t.replace(docsFolderName,"/docs/"),s=s.replace(docsFolderName,"/docs/"),null!=i&&(t=`${t}${t.indexOf("?")>0?"&":"?"}product=${i}`),null!=a&&(t=`${t}${t.indexOf("?")>0?"&":"?"}lang==${a}`),null!=l&&(t=`${t}${t.indexOf("?")>0?"&":"?"}src==${l}`),null!=o&&(t=t+"#"+o),void goToValidateLink(t,s);if(t.indexOf("docs-archive")>0&&"dbr"==i&&"latest"==n)return t=t.replace("/docs-archive/",docsFolderName),void(window.location.href=t+"?product=dbr&lang="+a+(null!=o?"#"+o:""));var d=null;if(null!=i&&getCurrentUrlProductName()!=i){var c=getLinkVersion(n,document.URL,i,a||"core",getCurrentUrlProductName());if(-1!=c)d=n,n=c;else for(var u=$("#fullTreeMenuListContainer > li"),g=0;g<u.length;g++){let e=$(u[g]).find(" > a").eq(0).attr("href");if($(u[g]).is(":visible")&&e)return void(window.location.href=e+"?ver="+n)}}var f=getProductLangLatestVersion(i||getCurrentUrlProductName(document.URL),getCurrentUrlLang(document.URL,!0));if("latest"!=n&&n!=f){if(t=t+"?ver="+n+"&cVer=true",s=s+"?ver="+n+"&cVer=true",null!=l&&(t=t+"&src="+l),null!=a&&(t=t+"&lang="+a),null!=i&&(t=t+"&product="+i,getCurrentUrlProductName()!=i&&(t=t+"&"+i+"="+d)),null!=o&&(t=t+"#"+o),"dbr"==i&&i&&getCurrentUrlProductName()!=i){let e=findVersionMatchItemInSearchList(d,a);e&&!e.matchVersion&&(t=t.replace(docsFolderName,"/docs-archive/"))}goToValidateLink(t,s)}else RedirToGivenVersionPage("latest")}async function goToValidateLink(e,t){const r=await fetch(e);if(!r.ok||200!==r.status)return void(window.location.href=t);const n=await r.text(),l=new DOMParser,a=l.parseFromString(n,"text/html");a.querySelector("#pageNotFound")?window.location.href=t:window.location.href=e}async function initHistoryVersionList(e){let t=getUrlVars(document.URL).product||getCurrentUrlProductName(document.URL),r=getCurrentUrlLang(document.URL,!0),n=getSideBarIframeSrc(document.URL,r,t);return n=n||sideBarIframeSrc,new Promise((e,t)=>{fetch(n,{cache:"no-cache"}).then(function(e){return e.text()}).then(function(t){e(t)})}).then(function(t){
const r=new DOMParser;FullTreePageDoc=r.parseFromString(t,"text/html");var n=FullTreePageDoc.querySelector(".fullVersionHistory");$(n)&&$(n).length>0&&$("#categoryMenuTree_history .fullVersionHistory").html($(n).html()),initHistoryVersionList_Detail(e)}).catch(function(t){initHistoryVersionList_Detail(e)})}function initHistoryVersionList_Detail(e){let t=getUrlVars(document.URL).product||getCurrentUrlProductName(document.URL),r=getCurrentUrlLang(document.URL,!0);"objectivec-swift"==r&&(r="ios"),"react-native"==r&&(r="reactNative");var n=getProductLangLatestVersion(t,r);let l=$(".fullVersionInfo li");for(var a=0;a<l.length;a++){let e=$(l[a]).data("editions");e&&""!=e&&e.split("_").indexOf(r)<0&&$(l[a]).addClass("hideLi").hide(),$(l[a]).text().toLowerCase()=="version "+n&&$(l[a]).addClass("sameVerAsLatestLi")}let i=$(".fullVersionInfo .hasChildLi");for(a=0;a<i.length;a++){var o=$(i[a]).find("> ul > li:not(.hideLi)");0==o.length&&$(i[a]).addClass("hideLi").hide()}var s=$(".fullVersionInfo li:not(.hideLi)").eq(0);if("latest version"==s.text().toLowerCase()){var d=getProductLangLatestVersion(t,""==r?"core":r);null!=d&&s.text("Latest Version ("+d+")"),$(".currentVersion").text("Latest Version")}else{d=getProductLangLatestVersion(t,""==r?"core":r,!0);let n=$("<li class='latestVer' onclick='changeVersion(this)'>").text("Latest Version ("+d+")");$(".fullVersionInfo").prepend(n),$(".currentVersion").text("Version "+findNearestVersion(e))}}function getRequestNewPageVersion(e){var t=getUrlVars(e).ver;t=null==t?"latest":t;var r=getUrlVars(e).product,n=getUrlVars(e).lang;if(null==r){if(null==n||e.indexOf("/core/")<0)return t;if("latest"==t){var l=n,a=getCurrentUrlProductName(e),i=getProductLangLatestVersion(DcvProducts.indexOf(a)>=0?"dcv":a,l),o=getProductLangLatestVersion(getCurrentUrlProductName(e),"core");if(getFormatVal(i)<getFormatVal(o))return i}return t}var s=r||getCurrentUrlProductName(e),d=n||getCurrentUrlLang(e,!0),c=getLinkVersion(t,e,s,d||"core",getCurrentUrlProductName(e));return-1==c?t:c}function getLinkVersion(e,t,r=null,n=null,l=null){r||(getUrlVars(document.URL).product?getUrlVars(document.URL).product:getCurrentUrlProductName());let a=n||(getUrlVars(document.URL).lang?getUrlVars(document.URL).lang:getCurrentUrlLang(document.URL,!0));if(a="cplusplus"==a?"cpp":a,a=["objectivec-swift","objectivec","objc","swift"].includes(a)?"ios":a,a="core"==a?"":a,a="js"==a||"javascript"==a?"javascript":a,dcvVersionList){let r=!1,n=dcvVersionList.filter(function(n){let i=n.version,o=!1,s=null;if(i&&getFormatVal(i)<=getFormatVal(e))if(n.matchVersion)for(let e in n.matchVersion)e="js"==e||"javascript"==e?"javascript":e,e==a&&(o=!0,r=!0,n.matchItems=n.matchVersion[e]);else{for(let e in n.matchList)if(e="js"==e||"javascript"==e?"js":e,a&&""!=a){if(e==a){var d=n.matchList[e];for(var c in d)if("dcv"!=l)c==l&&(s=d[c],o=!0);else{var u=titleCase(getCurrentUrlRepoType(t)),g="dcvRepo"+u;c==g&&(s=d[c],o=!0)}}}else if("dcv"!=l)e==l&&(s=n.matchList[e],o=!0);else{u=titleCase(getCurrentUrlRepoType(t)),g="dcvRepo"+u;e==g&&(s=n.matchList[e],o=!0)}n.matchItems=s}return n.productVersion=i,o});if(n&&n.length>0){n.sort(function(e,t){return getFormatVal(t.productVersion)-getFormatVal(e.productVersion)});var i=n[0].matchItems;if("dcv"!=l||r)return i;var o=i.filter(function(e){return t.indexOf(e.path)>0});return o&&o.length>0?o[0].version:-1}return-1}return-1}function getDCVLangVersion(e,t){let r=dcvVersionList.filter(function(r){let n=r.version,l=!1,a=null;if(n&&getFormatVal(n)<=getFormatVal(t))for(var i in r.matchList)i==e&&(a=r.matchList[i].dcv,l=!0);return r.linkLangDCVVersion=a,r.productVersion=n,l});return r.sort(function(e,t){return getFormatVal(t.productVersion)-getFormatVal(e.productVersion)}),r&&r.length>0?r[0].linkLangDCVVersion:-1}var dcvVersionList=[],isUseOldFunction=!1;window.addEventListener("popstate",function(e){findCurLinkOnFullTree({href:location.href},location.href,!0,!0,!0)},!1);